# Since surmise contains Cython code as a C Extension to the package contents,
# we are required to specify outside of setup.py (i.e., here) the requirements
# necessary for pip to construct a build system virtual environment and to build
# source distributions and wheels in it.
#
# Since setting the version is also part of building distributions, we also
# include here the version determination mechanism.
#
# All other information needed to compose the package itself is in setup.py in
# accord with the Cython docs.
#
# TODO: The following should likely be developed in more detail in a section of
# the dev guide and we should point to that here.
# Build wheels with the oldest supported numpy version (specified here) and let
# the venvs into which surmise is installed use that numpy version or greater
# (specified in setup.py).  This implies that all newer versions must be
# backward compatible with the oldest version.  For instance, using v1.26.4 here
# but v2.0.0 for the installation will not work as those two versions are not
# ABI compatible.  The .c file generated by Cython should be created using that
# same oldest version so that the .c file and its compilation are done with
# matched versions.  Therefore, if you change the oldest version here, change
# the version in tox (or in your local setup) for the cythonization process,
# regenerate the .c file, and commit it.
#
# IMPORTANT
# * Please make sure that all dependence/version changes made here are reflected
#   throughout setup.py and all the files linked to its contents.

[build-system]
requires = [
    "setuptools>=68.2.2",
    "setuptools_scm[toml]>=6.0",
    "numpy==2.0.0"
]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]
write_to = "surmise/_version.py"
